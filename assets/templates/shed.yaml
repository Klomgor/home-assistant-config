## TEMPLATES / SHED

- sensor:
    # -- xiaomi aqara --
    # temperature
    - name: 'Shed Temperature 1 Decimal'
      device_class: temperature
      unit_of_measurement: 'Â°C'
      state: >
        {% if is_number(state_attr('sensor.snr_shedclimate_temperature', 'temperature')) %}
          {{ state_attr('sensor.snr_shedclimate_temperature', 'temperature') | round(1, default=10.0) }}
        {% else %}
          {# use previous value if sensor returns unknown #}
          {{ states('sensor.shed_temperature_1_decimal') }}
        {% endif %}

    # humidity
    - name: 'Shed Humidity Rounded'
      device_class: humidity
      unit_of_measurement: '%'
      state: > 
        {% if is_number(state_attr('sensor.snr_shedclimate_humidity', 'humidity')) %}
          {{ state_attr('sensor.snr_shedclimate_humidity', 'humidity') | int }}
        {% else %}
          {# use previous value if sensor returns unknown #}
          {{ states('sensor.shed_humidity_rounded') }}
        {% endif %}