  ## script.sonos_say
  sonos_say:
    alias: "Sonos TTS Script"
    mode: single
    sequence:

    # snapshot what is currently playing
    - service: sonos.snapshot
      data_template:
        entity_id: "{{ sonos_entity }}"
    
    # join the desired sonos speaker(s)
    - service: sonos.unjoin
      data_template:
        entity_id: "{{ sonos_entity }}"
    
    # set the volume on speaker(s). if not supplied, default is 50% 
    - service: media_player.volume_set
      data_template:
        entity_id: "{{ sonos_entity }}"
        volume_level: "{{ volume | default('0.5') }}"
    
    # use a tts provider
    - service: tts.google_say
      data_template:
        entity_id: "{{ sonos_entity }}"
        message: "{{ message }}"
    
    # add a delay to allow the message to finish playing
    - delay: "{{ delay }}"

    # restore the sonos speaker(s) back to their original state
    - service: sonos.restore
      data_template:
        entity_id: "{{ sonos_entity }}"